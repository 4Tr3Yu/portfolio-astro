---
interface Props {
  id: string;
}

const { id } = Astro.props;
---
<script>
	const openBtns = document.querySelectorAll('.open-modal');
	openBtns.forEach((btn:HTMLButtonElement) => {
		btn.addEventListener('click', () => {
			const modal = document.querySelector(`#${btn.dataset.modal}`);
			modal.classList.remove('hidden');
		});
	});

	const closeModalBtns = document.querySelectorAll('#close-modal');
	closeModalBtns.forEach((btn:HTMLButtonElement) => {
		btn.addEventListener('click', () => {
		  const modal = document.querySelector(`#${btn.dataset.modal}`);
		  modal.classList.add('hidden');
		});
	});

	const modals = document.querySelectorAll('.modal-experience');
	modals.forEach((modal:HTMLDivElement) => {
		modal.addEventListener('click', (e) => {
			if (e.target === modal) {
				modal.classList.add('hidden');
			}
		});
	});
</script>
<div
  id={`modal-${id}`}
  class="modal-experience fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50  px-6"
>
  <div class="bg-crimson/25 border border-crimson p-6 rounded-lg shadow-lg max-w-lg w-full relative max-h-[90vh] overflow-y-scroll modal-experience-dialog">
    <button
      data-modal={`modal-${id}`}
      class="close-modal fixed top-2 right-2"
      id="close-modal"
      aria-label="Close Modal">X</button
    >
    <slot />
  </div>
</div>
<style>
	.modal-experience-dialog::-webkit-scrollbar {
		width: 30px;
	}
	
	.modal-experience-dialog::-webkit-scrollbar-track {
		background: black;
		box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
	}
	
	.modal-experience-dialog::-webkit-scrollbar-thumb {
		background: red;
		border: 3px solid blue;
	}
</style>